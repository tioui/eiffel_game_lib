{"note":"Don't delete this file! It's used internally to help with page regeneration.","name":"Eiffel game lib","body":"eiffel_game_lib\r\n===============\r\n\r\nA Game library for ISE Eiffel.\r\nThis is a library for game developping with the Eiffel Language. The library is made for the IDE EiffelStudio.\r\n\r\nThe library is compatible with Linux, MAC OS X, Windows, GP2X Wiz and Caanoo.\r\n\r\nThe library is under Eiffel Forum License v2.\r\n\r\nThe project use those libraries: SDL, SDL_image, SDL_gfx, SDL_ttf, OpenAL and Libsndfile.\r\n\r\n\r\nInstallation on Linux (Ubuntu)\r\n------------------------------\r\n\r\n* I assume that you already have a fonctionnal EiffelStudio on your system. If not, install it.\r\n* You need to set the environment variable EIF_GAME_LIB to the root directory of the Eiffel Game Lib repository directory. You can do it with the /etc/environment file:  \r\n\r\n***\r\n\r\n    sudo -s  \r\n    echo \"EIF_GAME_LIB='/home/user/projects/eiffel_game_dir'\" >> /etc/environment  \r\n    exit  \r\n\r\n***\r\n\r\n* You need to install the C libraries SDL, SDL_image, SDL_gfx, SDL_ttf, OpenAL, libsndfile and all their development tools kit and dependancies:  \r\n\r\n***\r\n\r\n\tsudo apt-get install libsdl-dev libsdl-image1.2-dev libsdl-gfx1.2-dev libsdl-ttf2.0-dev libopenal-dev libsndfile1-dev libavcodec-dev libavformat-dev libswscale-dev \r\n\r\n***\r\n\r\n* Create a project and add the Eiffel_game_lib library (\".ecf\") file in the project (You can use the EIF_GAME_LIB environment variable).\r\n\r\n\r\nInstallation on Windows\r\n-----------------------\r\n\r\n* You must use an EiffelStudio that use the MinGW compiler to work. If you don't have it already, install it.\r\n* You need to set the environment variable EIF_GAME_LIB to the root directory of the Eiffel Game Lib repository directory.\r\n* You need to add the Msys and MinGW bin directory in the system PATH variable (Both are in the EiffelStudio program sub directory)\r\n* You need to install the C libraries dependancies. To get them, download the file [https://github.com/downloads/tioui/eiffel_game_lib/C_lib_win.zip](https://github.com/downloads/tioui/eiffel_game_lib/C_lib_win.zip) . When you extract the file, you should have a C_lib_win directory. Put the C_lib_win directory in the root directory of the Eiffel Game Lib repository directory.\r\n* Create a project and add the Eiffel_game_lib library (\".ecf\") file in the project (You can use the EIF_GAME_LIB environment variable).\r\n* Put all \".dll\" files of the %EIF_GAME_LIB%\\C_lib_win\\DLL directory in the new project directory.\r\n* Please note that the library does not work with the Microsoft C compiler for now.\r\n* Please note that the library does not work on an 64 bits Windows compiler. It should not be too dificult to make it work on such compiler, but I don't have a 64 bits Windows to do it.\r\n\r\nInstallation on GP2X Wiz\r\n------------------------\r\n\r\n* Do the \"Installation on Linux\" first and test a project to valid it work correctly before trying to comile it on Wiz.\r\n* Install the linux-wiz spec as specified in this project: [https://github.com/tioui/Eiffel_Spec](https://github.com/tioui/Eiffel_Spec) .\r\n* You need to install the C libraries dependancies. To get them, download the file [https://github.com/downloads/tioui/eiffel_game_lib/C_lib_wiz.tar.bz2](https://github.com/downloads/tioui/eiffel_game_lib/C_lib_wiz.tar.bz2) . When you extract the file, you should have a C_lib_wiz directory. Put the C_lib_wiz directory in the root directory of the Eiffel Game Lib repository directory.\r\n* In the project that use the Eiffel Game Lib, create another target that extend the first one and add a variable \"toolchain\" in the target (in EiffelStudio or directly in the \".ecf\" file). This variable \"toolchain\" must be set to \"wiz\".\r\n* You must finalize you project to use in on the wiz.\r\n* Note that you cannot debug on the Wiz.\r\n\r\nInstallation on GPH Caanoo\r\n--------------------------\r\n\r\n* Do the \"Installation on Linux\" first and test a project to valid it work correctly before trying to comile it on Caanoo.\r\n* Install the linux-caanoo spec as specified in this project: [https://github.com/tioui/Eiffel_Spec](https://github.com/tioui/Eiffel_Spec) .\r\n* You need to install the C libraries dependancies. To get them, download the file [https://github.com/downloads/tioui/eiffel_game_lib/C_lib_caanoo.tar.bz2](https://github.com/downloads/tioui/eiffel_game_lib/C_lib_caanoo.tar.bz2) . When you extract the file, you should have a C_lib_caanoo directory. Put the C_lib_caanoo directory in the root directory of the Eiffel Game Lib repository directory.\r\n* In the project that use the Eiffel Game Lib, create another target that extend the first one and add a variable \"toolchain\" in the target (in EiffelStudio or directly in the \".ecf\" file). This variable \"toolchain\" must be set to \"caanoo\".\r\n* You must finalize you project to use in on the caanoo.\r\n* Note that you cannot debug on the caanoo.\r\n\r\nInstallation on Mac OS X\r\n------------------------\r\n\r\n* Install EiffelStudio (I did this via MacPort).\r\n* You need to get some files to adjust SDL on Mac OS X. To get them, download the file [https://github.com/downloads/tioui/eiffel_game_lib/C_lib_mac.tar.gz](https://github.com/downloads/tioui/eiffel_game_lib/C_lib_mac.tar.gz) . When you extract the file, you should have a C_lib_mac directory. Put the C_lib_mac directory in the root directory of the Eiffel Game Lib repository directory.\r\n* You need to install the C libraries SDL, SDL_image, SDL_gfx, SDL_ttf, OpenAL, libsndfile, ffmpeg library and all their development tools kit and dependancies. You can install them with MapPort by installing the port libsdl-framework, libsdl_gfx-framework, libsdl_image-framework, libsdl_ttf-framework, libsndfile and ffmpeg-devel.\r\n* OpenAL must be install another way. For that, install cmake using MacPort. Extract the file \"openal-soft-1.14.tar.bz2\" found in the C_lib_mac.tar.gz archive downloaded in before. Once extract, open a terminal a go into the directory build of the created directory of the archive extraction. Compile the library and install it\r\n\r\n\r\n***\r\n\r\n    cd /path/to/openal-soft-1.14/build\r\n    cmake ..\r\n    make\r\n    sudo make install\r\n\r\n***\r\n\r\n* Now copy all SDL installed library from the /opt/local/Library/ to the /Library directory.\r\n\r\n***\r\n\r\n    sudo cp -rp /opt/local/Library/Frameworks/SDL*.framework /Library/Frameworks/\r\n\r\n***\r\n\r\n* Now, ready for the hard part? The SDL library need a specific Main in the C program and also need to have an \"#include <SDL.h>\" in the same C file that the on that contain the main. It is evident that EiffelStudio don't respect these necessities from SDL. We will have to do a little hack to allow EiffelStudio to use SDL. We will make the hack in a new EiffelStudio application (a copy), so don't worry, your EiffelStudio should not be harm by this hack.\r\n* Open a terminal a go to the directory Eiffel?? (most likely Eiffel70) in the Application directory tree.\r\n\r\n***\r\n\r\n    cd /Applications/MacPorts/Eiffel??\r\n\r\n***\r\n\r\n* Copy the EiffelStudio.app file to EiffelStudio-SDL.app\r\n\r\n***\r\n\r\n    sudo cp -rp EiffelStudio.app EiffelStudio-SDL.app\r\n\r\n***\r\n\r\n* Modify the launcher to add a new spec for SDL (we will also set the EIF_GAME_LIB environment variable there). Use your favorite text editor (I use vim):\r\n\r\n***\r\n\r\n    sudo vim EiffelStudio-SDL.app/Contents/Resources/EiffelLauncher\r\n\r\n***\r\n\r\n* Change the line 38:\r\n\r\n***\r\n\r\n    Before: export ISE_PLATFORM=macosx-x86-64\r\n\r\n***\r\n\r\n***\r\n\r\n    After: export ISE_PLATFORM=macosx-x86-64-SDL\r\n\r\n***\r\n\r\n* Change the line 40:\r\n\r\n***\r\n\r\n    Before: export ISE_PLATFORM=macosx-x86\r\n\r\n***\r\n\r\n***\r\n\r\n    After: export ISE_PLATFORM=macosx-x86-SDL\r\n\r\n***\r\n\r\n* Change the line 45 (of course, change the path to your Eiffel Game Lib path):\r\n\r\n***\r\n\r\n    Before: (EMPTY)\r\n\r\n***\r\n\r\n***\r\n\r\n    After: export EIF_GAME_LIB=/path/to/root/of/Eiffel_Game_Lib_Dir\r\n\r\n***\r\n\r\n* Save and quit the text editor.\r\n* Copy the macosx-x86 and the macosx-x86-64 specs to macosx-x86-SDL and the macosx-x86-64-SDL:\r\n\r\n***\r\n\r\n    sudo cp -rp studio/spec/macosx-x86-64 studio/spec/macosx-x86-64-SDL\r\n    sudo cp -rp studio/config/macosx-x86-64 studio/config/macosx-x86-64-SDL\r\n\r\n***\r\n\r\n* Modify the C file template to fit the SDL necessities. Use your favorite text editor (I use vim):\r\n\r\n***\r\n\r\n    sudo vim studio/config/macosx-x86-64-SDL/templates/emain.template\r\n\r\n***\r\n\r\n* Change the line 11:\r\n\r\n***\r\n\r\n    Before: (EMPTY)\r\n\r\n***\r\n\r\n***\r\n\r\n    After: #include \"SDL.h\"\r\n\r\n***\r\n\r\n* Change the line 13:\r\n\r\n***\r\n\r\n    Before: extern int main(int, char **, char **);\r\n\r\n***\r\n\r\n***\r\n\r\n    After: extern int main(int, char **);\r\n\r\n***\r\n\r\n* Change the line 18:\r\n\r\n***\r\n\r\n    Before: (EMPTY)\r\n\r\n***\r\n\r\n***\r\n\r\n    After: extern char **environ;\r\n\r\n***\r\n\r\n* Change the line 19:\r\n\r\n***\r\n\r\n    Before: int main (int argc, char ** argv, char ** envp)\r\n\r\n***\r\n\r\n***\r\n\r\n    After: int main (int argc, char ** argv)\r\n\r\n***\r\n\r\n* Change the line 21:\r\n\r\n***\r\n\r\n    Before: (EMPTY)\r\n\r\n***\r\n\r\n***\r\n\r\n    After: char **envp = environ;\r\n\r\n***\r\n\r\n* Save and quit the text editor.\r\n* Use the EiffelStudio-SDL application to use the library.\r\n* Create a project and add the Eiffel_game_lib library (\".ecf\") file in the project (You can use the EIF_GAME_LIB environment variable).\r\n* Note that the spec that we create has no precompile library. It will be necessary to remove the default Precompile library in the project.","google":"","tagline":"A Game library for EiffelStudio"}